{% extends "base.html" %}

{% block mainContent %}
    {% load static %}
    {% load markdown_extras %}
    <h1 class="display-1 text-center">The Bloggo</h1>
    <hr>
    <div class="row row-cols-2 g-2">
        {% for post in posts %}
            <div class="col">
                <div class="p-3 border">
                    <img src="{{ post.image.url }}" alt="" class="card-img-top ">
                    <div class="card-body">
                        <h1 class="card-title text-decoration-none">
                            <a href="{% url 'blog_detail' pk=post.pk %}">
                                {{ post.title }}
                            </a>
                        </h1>

                        <small class="text-secondary">
                            {{ post.created_on.date }} |
                            Categories:
                            {% for category in post.categories.all %}
                                <a href="#">{{ category.name }}</a>
                            {% endfor %}
                        </small>
                        <p class="card-text">
                            {{ post.body | slice:":400" | markdown | safe }}...
                        </p>
                    </div>


                </div>
            </div>
        {% endfor %}
    </div>

{% endblock %}
